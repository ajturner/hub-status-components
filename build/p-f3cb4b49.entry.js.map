{"version":3,"names":["hubStatusHistoryCss","HubStatusHistory","componentWillLoad","this","events","buildHistory","history","render","today","Date","getDate","dateFormat","Intl","DateTimeFormat","year","month","day","h","Host","id","Array","keys","map","dayCount","priorDate","setDate","format","renderDay","summary","event","class","getStatusDisplay","details","status","message","timestamp","hubStatusServiceListCss","HubStatusServiceList","console","debug","services","service","hubStatusSummaryCss","HubStatusSummary","open","icon","_a","width","scale","kind","slot","_b","title","_c","href"],"sources":["./src/components/hub-status-history/hub-status-history.css?tag=hub-status-history&encapsulation=shadow","./src/components/hub-status-history/hub-status-history.tsx","./src/components/hub-status-service-list/hub-status-service-list.css?tag=hub-status-service-list&encapsulation=shadow","./src/components/hub-status-service-list/hub-status-service-list.tsx","./src/components/hub-status-summary/hub-status-summary.css?tag=hub-status-summary&encapsulation=shadow","./src/components/hub-status-summary/hub-status-summary.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n#status-history-list {\n  /* max-height: 0; */\n  overflow: hidden;\n  transition: max-height 0.2s ease-out;\n  transition: 0.4s;\n}\n\n.status-day::before {\n    position: absolute;\n    top: 0;\n    left: 19px;\n    display: block;\n    content: \"\";\n    width: 3px;\n    height: 100%;\n    background-color: #e6ebf1;\n}\n.status-day, #st2atus-history-list {\n    position: relative;\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n    padding-left: 3rem;\n    margin-top: 0 !important;\n}\n.status-day .date::before {\n    position: absolute;\n    top: 1rem;\n    left: 0rem;\n    display: block;\n    content: \"\";\n    width: 2.5rem;\n    height: 2.5rem;\n    background: #24292e url(\"data:image/svg+xml;charset=utf8,%3Csvg width='14' height='16' viewBox='0 0 14 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M13 2H12V3.5C12 3.78 11.78 4 11.5 4H9.5C9.22 4 9 3.78 9 3.5V2H6V3.5C6 3.78 5.78 4 5.5 4H3.5C3.22 4 3 3.78 3 3.5V2H2C1.45 2 1 2.45 1 3V14C1 14.55 1.45 15 2 15H13C13.55 15 14 14.55 14 14V3C14 2.45 13.55 2 13 2ZM13 14H2V5H13V14ZM5 3H4V1H5V3ZM11 3H10V1H11V3ZM6 7H5V6H6V7ZM8 7H7V6H8V7ZM10 7H9V6H10V7ZM12 7H11V6H12V7ZM4 9H3V8H4V9ZM6 9H5V8H6V9ZM8 9H7V8H8V9ZM10 9H9V8H10V9ZM12 9H11V8H12V9ZM4 11H3V10H4V11ZM6 11H5V10H6V11ZM8 11H7V10H8V11ZM10 11H9V10H10V11ZM12 11H11V10H12V11ZM4 13H3V12H4V13ZM6 13H5V12H6V13ZM8 13H7V12H8V13ZM10 13H9V12H10V13Z' fill='%23fff'/%3E%3C/svg%3e\") no-repeat center center;\n    border-radius: 50%;\n}\n.status-event-none {\n  font-style: italic;\n  color: #666666;\n}","import { Component, Host, Prop, State, h } from '@stencil/core';\nimport { buildHistory, getStatusDisplay } from '../../utils/status';\n\n@Component({\n  tag: 'hub-status-history',\n  styleUrl: 'hub-status-history.css',\n  shadow: true,\n})\nexport class HubStatusHistory {\n\n  /**\n   * Array of status change events\n   * \n   * \"history\": {\n\t\"2023-02-10T17:33:00Z\": {\n            \"message\": \"Hub sites are operating as expected for all customers.\",\n            \"status\": \"normal\"\n\t},\n\t\"2023-02-10T17:15:00Z\": {\n            \"message\": \"Hub sites were not available for customers.\",\n            \"status\": \"degraded\"\n\t},\n   */\n  @Prop() history: any = null;\n\n  /**\n   * Number of days history to show\n   */\n  @Prop() days: number = 30;\n\n  @State() events: any = null;\n\n  componentWillLoad() {\n    this.events = buildHistory(this.history);\n  }\n  render() {\n    var today = new Date().getDate();\n    var dateFormat = new Intl.DateTimeFormat('en', { year: 'numeric', month: 'long', day: '2-digit' })\n\n    return (\n      <Host>\n        <slot></slot>\n        <div id=\"status-history-list\">\n          \n          {[...Array(30).keys()].map((dayCount) => {\n            var priorDate = new Date().setDate(today - dayCount);\n            var day = dateFormat.format(priorDate);\n    \n            return this.renderDay(day, this.events[day]);\n          })}\n        </div>\n      </Host>\n    );\n  }\n\n  renderDay(day, events) {\n    var summary;\n    if(!!events) {\n      summary = events.map((event) => {\n        return <div class=\"status-event\">\n          {getStatusDisplay(event.details.status, event.details.message).message}\n          <br/><em>at {event.timestamp}</em>\n        </div>;\n      })\n    } else {\n      summary = [<div class=\"status-event status-event-none\">No incidents reported.</div>];\n    }    \n    return <div class=\"status-day\">\n      <div class=\"date\">{day}</div>\n      <br/>\n      {summary}\n    </div>\n  }\n\n}\n",":host {\n  display: block;\n}\n\n.services-list {\n  display: grid;\n  grid-template-rows: auto;\n  grid-gap: 1rem;\n\n}","import { Component, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'hub-status-service-list',\n  styleUrl: 'hub-status-service-list.css',\n  shadow: true,\n})\nexport class HubStatusServiceList {\n\n  /**\n   * \n   * \"services\": [\n        {\n            \"title\": \"Hub Sites\",\n            \"Status\": \"normal\"\n        },\n        {\n            \"title\": \"Search API\",\n            \"Status\": \"normal\"\n        },\n        {\n            \"title\": \"Content Indexer\",\n            \"Status\": \"normal\"\n        },\n        {\n            \"title\": \"Downloads\",\n            \"Status\": \"normal\"\n        },\n        {\n            \"title\": \"Discussions\",\n            \"Status\": \"normal\"\n        }\n    ],\n   */\n  @Prop() services: any = null;\n\n  render() {\n    console.debug(\"services\", this.services)\n    return (\n      <Host>\n        <slot></slot>\n        <div class=\"services-list\">\n        {this.services.map((service) => {\n          return (<hub-status-service \n            service={service}\n          > </hub-status-service>)\n        })}\n        </div>\n      </Host>\n    );\n  }\n\n}\n",":host {\n  display: block;\n}\n","import { Component, Host, Prop, h } from '@stencil/core';\nimport { getStatusDisplay } from '../../utils/status';\n\n@Component({\n  tag: 'hub-status-summary',\n  styleUrl: 'hub-status-summary.css',\n  shadow: true,\n})\nexport class HubStatusSummary {\n\n  /**\n   * \n   * {\n          \"status\": \"normal\",\n          \"title\": \"All Good. Systems are running as expected!\",\n          \"message\": \"There are no known outages for ArcGIS Hub. Notice Something?\"\n      }\n   */\n  @Prop() status: any = null;\n\n  render() {\n    return (\n      <Host>\n        <slot></slot>\n        <em id=\"current-timestamp\"></em>\n        <calcite-notice \n            open \n            id=\"status-notice\" \n            icon={getStatusDisplay(this.status?.status).icon} \n            width=\"full\" \n            scale=\"m\" \n            kind=\"success\">\n          <div id=\"status-title\" slot=\"title\">\n            {this.status?.title}\n          </div>\n          <div id=\"status-message\" slot=\"message\">\n            {this.status?.message}\n          </div>\n          <calcite-link \n            href=\"http://support.esri.com/contact-tech-support\" \n            slot=\"link\" \n            title=\"my action\">Report an Issue</calcite-link>\n        </calcite-notice>\n      </Host>\n    );\n  }\n\n}\n"],"mappings":"6FAAA,MAAMA,EAAsB,60C,MCQfC,EAAgB,M,sCAeJ,K,UAKA,G,YAEA,I,CAEvBC,oBACEC,KAAKC,OAASC,EAAaF,KAAKG,Q,CAElCC,SACE,IAAIC,GAAQ,IAAIC,MAAOC,UACvB,IAAIC,EAAa,IAAIC,KAAKC,eAAe,KAAM,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,YAEtF,OACEC,EAACC,EAAI,KACHD,EAAA,aACAA,EAAA,OAAKE,GAAG,uBAEL,IAAIC,MAAM,IAAIC,QAAQC,KAAKC,IAC1B,IAAIC,GAAY,IAAIf,MAAOgB,QAAQjB,EAAQe,GAC3C,IAAIP,EAAML,EAAWe,OAAOF,GAE5B,OAAOrB,KAAKwB,UAAUX,EAAKb,KAAKC,OAAOY,GAAK,K,CAOtDW,UAAUX,EAAKZ,GACb,IAAIwB,EACJ,KAAKxB,EAAQ,CACXwB,EAAUxB,EAAOkB,KAAKO,GACbZ,EAAA,OAAKa,MAAM,gBACfC,EAAiBF,EAAMG,QAAQC,OAAQJ,EAAMG,QAAQE,SAASA,QAC/DjB,EAAA,WAAKA,EAAA,gBAAQY,EAAMM,a,KAGlB,CACLP,EAAU,CAACX,EAAA,OAAKa,MAAM,kCAAgC,0B,CAExD,OAAOb,EAAA,OAAKa,MAAM,cAChBb,EAAA,OAAKa,MAAM,QAAQd,GACnBC,EAAA,WACCW,E,aCtEP,MAAMQ,EAA0B,yF,MCOnBC,EAAoB,M,uCA2BP,I,CAExB9B,SACE+B,QAAQC,MAAM,WAAYpC,KAAKqC,UAC/B,OACEvB,EAACC,EAAI,KACHD,EAAA,aACAA,EAAA,OAAKa,MAAM,iBACV3B,KAAKqC,SAASlB,KAAKmB,GACVxB,EAAA,sBACNwB,QAASA,GAAO,Q,aC5C5B,MAAMC,EAAsB,uB,MCQfC,EAAgB,M,qCAUL,I,CAEtBpC,S,UACE,OACEU,EAACC,EAAI,KACHD,EAAA,aACAA,EAAA,MAAIE,GAAG,sBACPF,EAAA,kBACI2B,KAAI,KACJzB,GAAG,gBACH0B,KAAMd,GAAiBe,EAAA3C,KAAK8B,UAAM,MAAAa,SAAA,SAAAA,EAAEb,QAAQY,KAC5CE,MAAM,OACNC,MAAM,IACNC,KAAK,WACPhC,EAAA,OAAKE,GAAG,eAAe+B,KAAK,UACzBC,EAAAhD,KAAK8B,UAAM,MAAAkB,SAAA,SAAAA,EAAEC,OAEhBnC,EAAA,OAAKE,GAAG,iBAAiB+B,KAAK,YAC3BG,EAAAlD,KAAK8B,UAAM,MAAAoB,SAAA,SAAAA,EAAEnB,SAEhBjB,EAAA,gBACEqC,KAAK,+CACLJ,KAAK,OACLE,MAAM,aAAW,oB"}